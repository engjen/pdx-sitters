<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDX Sitters</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* --- CUTE LOADING OVERLAY STYLES --- */
        #loading-overlay {
            display: none; /* Hidden by default */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            z-index: 10000;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-family: sans-serif;
        }

        .loader-icon {
            font-size: 60px;
            margin-bottom: 20px;
            animation: crawl 2.5s infinite linear;
            display: inline-block;
        }

        /* The Animation: Side to side "wobble" and slide */
        @keyframes crawl {
            0% { transform: translateX(-50px) rotate(-10deg); }
            50% { transform: translateX(50px) rotate(10deg); }
            100% { transform: translateX(-50px) rotate(-10deg); }
        }

        .loading-text {
            color: #9333ea;
            font-weight: bold;
            text-align: center;
            font-size: 1.2rem;
            line-height: 1.5;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-purple-100">
    
    <div id="loading-overlay">
        <div class="loader-icon">üë∂</div>
        <div class="loading-text">
            Our sitter is on their way!<br>
            <span class="text-sm font-normal text-gray-500">(Please wait ~30 seconds)</span>
        </div>
    </div>

    <header class="bg-white shadow-md">
        <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-purple-600">PDX Sitters</h1>
            <nav class="space-x-6">
                <a href="#home" class="text-gray-700 hover:text-purple-600">Home</a>
                <a href="#sitters" class="text-gray-700 hover:text-purple-600">Sitters</a>
                <a href="#book" class="text-gray-700 hover:text-purple-600">Book</a>
            </nav>
        </div>
    </header>

    <section id="home" class="py-20 text-center">
        <div class="max-w-4xl mx-auto px-4">
            <h2 class="text-5xl font-bold text-gray-800 mb-6">Trusted Childcare & Pet Care in Portland</h2>
            <p class="text-xl text-gray-600 mb-8">Connect with experienced, background-checked sitters</p>
            <a href="#sitters" class="inline-block bg-purple-600 text-white px-8 py-4 rounded-full font-semibold hover:bg-purple-700 transition">Find Your Sitter</a>
        </div>
    </section>

    <section id="sitters" class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12">Our Trusted Sitters</h2>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-gray-50 rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition">
                    <img src="images/jenny.jpg" alt="Jenny" class="w-full h-64 object-cover">
                    <div class="p-6">
                        <h3 class="text-2xl font-bold mb-2">Jenny Eng, PhD</h3>
                        <div class="flex items-center mb-3"><span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span><span class="ml-2 text-gray-600">(2 reviews)</span></div>
                        <div class="mb-3">
                            <span class="inline-block bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm mr-2">Babysitting</span>
                            <span class="inline-block bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm">Pet/House Sitting</span>
                        </div>
                        <p class="text-gray-600 mb-4"> Mother of 3 with 15+ years experience. Loves baking and singing songs. Also a cancer researcher and developer who created this website with free and open source tools. Available evenings.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-lg font-bold text-purple-600">$15-19/hour</span>
                            <a href="#book" class="bg-purple-600 text-white px-6 py-2 rounded-full hover:bg-purple-700 transition">Book</a>
                        </div>
                    </div>
                </div>

                <div class="bg-gray-50 rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition">
                    <img src="images/sierra.jpg" alt="Sierra" class="w-full h-64 object-cover" style="object-position: 50% 25%;">
                    <div class="p-6">
                        <h3 class="text-2xl font-bold mb-2">Sierra Miller</h3>
                        <div class="flex items-center mb-3"><span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span><span class="ml-2 text-gray-600">(2 reviews)</span></div>
                        <div class="mb-3">
                            <span class="inline-block bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm">Babysitting</span>
                            <span class="inline-block bg-purple-100 text-purple-700 px-3 py-1 rounded-full text-sm">Dog Walking</span>
                        </div>
                        <p class="text-gray-600 mb-4">15-year old sophomore with 4.0 GPA. Currently raising money for her Jefferson Dancers spring trip to NYC. Big sister experienced with babies and toddlers. Loves dogs and cats.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-lg font-bold text-purple-600">$13-18/hour</span>
                            <a href="#book" class="bg-purple-600 text-white px-6 py-2 rounded-full hover:bg-purple-700 transition">Book</a>
                        </div>
                    </div>
                </div>

                <div class="bg-gray-50 rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition">
                    <img src="images/elliot.jpg" alt="Elliot" class="w-full h-64 object-cover" style="object-position: 50% 10%;">
                    <div class="p-6">
                        <h3 class="text-2xl font-bold mb-2">Elliot Gray, MS</h3>
                        <div class="flex items-center mb-3"><span class="text-yellow-400">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span><span class="ml-2 text-gray-600">(2 reviews)</span></div>
                        <p class="text-gray-600 mb-4">Dad of 3 with expertise in infant and toddler care. Loves reading books and walking outside. Also a computational biologist with MS in biomedical engineering and BS in Math/Physics. Available select weekdays and school holidays for backup care.</p>
                        <div class="flex justify-between items-center">
                            <span class="text-lg font-bold text-purple-600">$70-80/day</span>
                            <a href="#book" class="bg-purple-600 text-white px-6 py-2 rounded-full hover:bg-purple-700 transition">Book</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <section id="book" class="py-16">
        <div class="max-w-3xl mx-auto px-4">
            <div class="bg-white rounded-2xl shadow-lg p-8">
                <h2 class="text-3xl font-bold mb-6">Request a Booking</h2>
                <div class="space-y-6" id="bookingForm">
                    <div>
                        <label class="block text-sm font-semibold mb-2">Select Sitter *</label>
                        <select id="sitter" class="w-full px-4 py-3 border border-gray-300 rounded-lg">
                            <option value="">Choose a sitter...</option>
                            <option value="Jenny Eng">Jenny Eng</option>
                            <option value="Sierra Miller">Sierra Miller</option>
                            <option value="Elliot Gray">Elliot Gray</option>
                        </select>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-semibold mb-2">Your Name *</label>
                            <input type="text" id="name" class="w-full px-4 py-3 border border-gray-300 rounded-lg">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Email *</label>
                            <input type="email" id="email" class="w-full px-4 py-3 border border-gray-300 rounded-lg">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold mb-2">Phone *</label>
                        <input type="tel" id="phone" class="w-full px-4 py-3 border border-gray-300 rounded-lg">
                    </div>

                    <div class="grid md:grid-cols-3 gap-6">
                        <div>
                            <label class="block text-sm font-semibold mb-2">Date *</label>
                            <input type="date" id="date" class="w-full px-4 py-3 border border-gray-300 rounded-lg">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">Start *</label>
                            <input type="time" id="startTime" class="w-full px-4 py-3 border border-gray-300 rounded-lg">
                        </div>
                        <div>
                            <label class="block text-sm font-semibold mb-2">End *</label>
                            <input type="time" id="endTime" class="w-full px-4 py-3 border border-gray-300 rounded-lg">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold mb-2">Notes</label>
                        <textarea id="notes" rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg" placeholder="Any special requirements..."></textarea>
                    </div>

                    <button onclick="submitBooking()" class="w-full bg-purple-600 text-white py-4 rounded-lg text-lg font-semibold hover:bg-purple-700 transition">
                        Submit Booking Request
                    </button>
                </div>
            </div>
        </div>
    </section>
    
    <section id="availability" class="py-16 bg-gray-50">
    <div class="max-w-5xl mx-auto px-4 text-center">
        <h2 class="text-3xl font-bold mb-2">Our Live Availability</h2>
        <p class="text-gray-600 mb-8">Check the calendar below to see our open slots before booking!</p>
        
        <div class="bg-white p-2 rounded-2xl shadow-xl border-4 border-purple-100 overflow-hidden">
            <div class="aspect-video">
                <iframe src="https://calendar.google.com/calendar/embed?src=995582372dc3b5d31797864a98cdf4ee888334685d072974f3a560c3adb84431%40group.calendar.google.com&ctz=America%2FLos_Angeles"
                 style="border: 0" width="800" height="600" frameborder="0" scrolling="no"></iframe>

                </div>
        </div>
        
        <p class="mt-6 text-sm text-purple-600 font-medium italic">
            ‚ú® Note: All times are shown in Pacific Time (PT).
        </p>
    </div>
</section>

    <footer class="bg-gray-800 text-white py-8 text-center">
        <p>&copy; 2026 PDX Sitters. All rights reserved.</p>
    </footer>

    <script>
        const API_URL = 'https://pdx-sitters-backend.onrender.com/api';

        async function submitBooking() {
            // 1. Get values
            const sitter = document.getElementById('sitter').value;
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const date = document.getElementById('date').value;
            const startTime = document.getElementById('startTime').value;
            const endTime = document.getElementById('endTime').value;
            const notes = document.getElementById('notes').value;

            // 2. Validation
            if (!sitter || !name || !email || !phone || !date || !startTime || !endTime) {
                alert('Please fill in all required fields');
                return;
            }

            // 3. SHOW CUTE LOADER
            const overlay = document.getElementById('loading-overlay');
            overlay.style.display = 'flex';

            try {
                const response = await fetch(`${API_URL}/bookings`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ sitter, name, email, phone, date, startTime, endTime, notes })
                });

                if (response.ok) {
                    alert('‚úÖ Booking request submitted! Check your calendar and email.');
                    // Reset form
                    document.querySelectorAll('input, select, textarea').forEach(el => el.value = '');
                } else {
                    alert('‚ùå The sitter couldn\'t hear you. Please try again.');
                }
            } catch (error) {
                console.error('Connection Error:', error);
                alert('‚ùå Connection failed. Your sitter is taking a nap (Server is down).');
            } finally {
                // 4. HIDE CUTE LOADER
                overlay.style.display = 'none';
            }
        }
    </script>
</body>
</html>